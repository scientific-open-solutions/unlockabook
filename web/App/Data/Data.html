<!--
    Collector (Garcia, Kornell, Kerr, Blake & Haffey)
    A program for running experiments on the web
    Copyright 2012-2016 Mikey Garcia & Nate Kornell


    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License version 3 as published by
    the Free Software Foundation.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>

		Kitten/Cat release (2019-2021) author: Dr. Anthony Haffey (team@someopen.solutions)

-->

<style>
#data_script_editor{
	height:500px;
}

#local_data_btn{
  display:none;
}

.delete_server_data_btn,
.download_server_data_btn,
.delete_storage_data_btn,
.download_storage_data_btn,
.delete_backup_data_btn,
.download_backup_data_btn,
.delete_data_btn,
.download_data_btn{
  margin:5px;
}

.key_textarea{
  width:500px;
  height:500px;
}

</style>


<script src="libraries/tweetnacl.js"></script>
<script src="libraries/tweetnacl-utils.js"></script>
<script src="libraries/crypto-js.min.js"></script>


<nav class="navbar navbar-primary bg-white fixed-top fixed-top-2">
  <span> <!-- to block formatting that puts the next button on the far right -->
    <button class="btn btn-primary" id="js_decrypt_btn">Decrypt file(s)</button>
    <input type="file" id="fileToLoad" style="display:none" multiple>
    <button class="btn btn-primary" onclick="encrypt_obj.change_password()">Change password</button>
    <button class="btn btn-primary" id="google_script_btn">Google Script</button>
    <button class="btn btn-primary" id="local_data_btn">Local Data</button>
  </span>
</nav>


<br><br><br><br><br>
<div>
  <table>
    <tr>
      <td>
        Your Public Key
      </td>
      <td>
        Your encrypted private key
      </td>
    </tr>
    <tr>
      <td>
        <textarea class="form-control key_textarea" id="public_key"></textarea>
      </td>
      <td>
        <textarea class="form-control key_textarea" id="private_key"></textarea>
      </td>
    </tr>
  </table>
</div>


<hr>
<div id="data_management_login">
  <div class="form-group row">
    <label for="data_user_email" class="col-sm-2 col-form-label">Email</label>
    <div class="col-sm-10">
      <input type="email" class="form-control" id="data_user_email">
    </div>
  </div>
  <div class="form-group row">
    <label for="data_user_password" class="col-sm-2 col-form-label">Password</label>
    <div class="col-sm-10">
      <input type="password" class="form-control" id="data_user_password">
    </div>
  </div>

</div>
<div id="select_server"></div>
<hr>

<button class="btn btn-primary" id="list_data_btn">Check my data</button>
<table class="table">
  <thead>
    <tr>
      <th scope="col">Type</th>
      <th scope="col">Used Space</th>
      <th scope="col">Available Space</th>
    </tr>
  </thead>
  <tbody>
    <tr class="text-primary">
      <th scope="row">Server (very short term)</th>
      <td><span id="used_server_space"></span></td>
      <td><span id="max_server_space"></span></td>
    </tr>
    <tr class="text-success">
      <th scope="row">Storage (long term)</th>
      <td><span id="used_storage_space"></span></td>
      <td><span id="max_storage_space"></span></td>
    </tr>
    <tr class="text-info">
      <th scope="row">Backup (long term)</th>
      <td><span id="used_backup_space"></span></td>
      <td><span id="max_backup_space"></span></td>
    </tr>
  </tbody>
</table>

<hr>

<div class="container">
  <div class="row">
    <div class="col-sm">
      <h1 class='text-primary'>Server</h1>
      <div id="server_data"></div>
    </div>
    <div class="col-sm">
      <h1 class='text-success'>Storage</h1>
      <div id="storage_data"></div>
    </div>
    <div class="col-sm">
      <h1 class='text-info'>Backup</h1>
      <div id="backup_data"></div>
    </div>
  </div>
</div>


<script src="Data/DataActions.js"></script>
<script src="Data/DataFunctions.js"></script>
